<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Налаштування профілю - SparkME</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.3/dist/umd/supabase.min.js"></script>
</head>
<body>
    <header>
        <nav>
            <div class="burger-menu">
                <div></div>
                <div></div>
                <div></div>
            </div>
            <h1>✨ SparkME</h1>
            <div class="nav-links">
                <a href="index.html">Стрічка</a>
                <a href="messages.html">Повідомлення</a>
                <a href="donate.html" class="donate-link">
                    <i class="fas fa-heart"></i> Підтримати
                </a>
            </div>
            <div class="nav-buttons" id="authButtons">
                <!-- Кнопки будуть додаватися динамічно -->
            </div>
        </nav>
    </header>

    <main class="settings-page">
        <div class="settings-container">
            <h2>Налаштування профілю</h2>
            
            <div class="profile-photo-section">
                <div class="profile-photo" id="profilePhotoPreview">
                    <img src="./images/default-avatar.png" alt="Фото профілю" id="currentPhoto">
                    <div class="photo-overlay">
                        <label for="photo" class="photo-upload-btn">
                            Змінити фото
                            <input type="file" id="photo" accept="image/*" hidden>
                        </label>
                    </div>
                </div>
            </div>

            <form id="profileSettingsForm" class="settings-form">
                <div class="form-group">
                    <label for="name">Ім'я</label>
                    <input type="text" id="name" name="name" required>
                </div>

                <div class="form-group">
                    <label for="age">Вік</label>
                    <input type="number" id="age" name="age" min="18" required>
                </div>

                <div class="form-group">
                    <label for="gender">Стать</label>
                    <select id="gender" name="gender" required>
                        <option value="">Виберіть стать</option>
                        <option value="male">Чоловік</option>
                        <option value="female">Жінка</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="city">Місто</label>
                    <input type="text" id="city" name="city">
                </div>

                <div class="form-group">
                    <label for="bio">Про себе</label>
                    <textarea id="bio" name="bio" rows="4"></textarea>
                </div>

                <div class="form-group">
                    <label>Інтереси</label>
                    <div class="interests-tags">
                        <span class="tag" data-interest="sport">Спорт</span>
                        <span class="tag" data-interest="music">Музика</span>
                        <span class="tag" data-interest="travel">Подорожі</span>
                        <span class="tag" data-interest="art">Мистецтво</span>
                        <span class="tag" data-interest="books">Книги</span>
                        <span class="tag" data-interest="movies">Кіно</span>
                    </div>
                </div>

                <div class="form-group">
                    <h3>Соціальні мережі</h3>
                    <div class="social-inputs">
                        <div class="social-input">
                            <label for="telegram">
                                <i class="fab fa-telegram"></i> Telegram
                            </label>
                            <input type="text" id="telegram" name="telegram" placeholder="@username">
                        </div>
                        
                        <div class="social-input">
                            <label for="instagram">
                                <i class="fab fa-instagram"></i> Instagram
                            </label>
                            <input type="text" id="instagram" name="instagram" placeholder="@username">
                        </div>
                        
                        <div class="social-input">
                            <label for="facebook">
                                <i class="fab fa-facebook"></i> Facebook
                            </label>
                            <input type="text" id="facebook" name="facebook" placeholder="URL профілю">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <h3>Галерея</h3>
                    <div class="gallery-upload">
                        <label for="gallery" class="gallery-upload-btn">
                            <i class="fas fa-plus"></i> Додати фото
                            <input type="file" id="gallery" multiple accept="image/*" hidden>
                        </label>
                        <div class="gallery-preview" id="galleryPreview">
                            <!-- Превью завантажених фото -->
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn-primary">Зберегти зміни</button>
            </form>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 SparkME. Всі права захищені.</p>
    </footer>

    <script>
        // Ініціалізація Supabase
        const supabaseUrl = 'https://hqqqneqjqvjaemjusxub.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhxcXFuZXFqcXZqYWVtanVzeHViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzczMTMzNjQsImV4cCI6MjA1Mjg4OTM2NH0.1uV4_zyh1AouKmEMSqgvUDpQG4RoF_ppSZDel79wsIk';
        
        window.supabaseClient = supabase.createClient(supabaseUrl, supabaseKey, {
            auth: {
                autoRefreshToken: true,
                persistSession: true,
                detectSessionInUrl: false
            }
        });
    </script>

    <script src="burger-menu.js" defer></script>
    <script src="config.js" type="module"></script>
    <script src="auth.js" type="module"></script>
    <script src="auth-check.js" type="module"></script>
    <script src="profile-settings.js" type="module"></script>
</body>
</html> 